## Serverless Computing vs. Containers 
Serverless 計算和容器都是減少雲託管 Web 應用程序開銷的架構，但它們在幾個重要方面有所不同。**容器比虛擬機更輕量級，但 serverless 部署比基於容器的體系結構更輕量級、更容易擴展**。
開發人員應該使用哪種架構取決於應用程序的需求，但 serverless 應用程序更具可擴展性，通常更具成本效益。

## What are containers ?
容器包含應用程序和應用程序正常運行所需的所有元素，包括 system libraries、 system settings 和其他依賴項。就像加水鬆餅混合物一樣，容器只需要一件東西 - 託管和運行 - 以便執行它們的功能。

任何類型的應用程序都可以在容器中運行。無論託管在何處，容器化應用程序都將以相同的方式運行。**容器可以很容易的在需要的地方移動和部署**，就像物理運輸容器一樣，這是標準尺寸，因此可以透過各種運輸工具（船舶、卡車和火車等）運輸到任何地方，無論其內容如何。

![](https://www.cloudflare.com/img/learning/serverless/serverless-vs-containers/containers-host-system-diagram.svg)

在技​​術方面，**容器是將機器或服務器劃分為單獨的用戶空間環境的一種方式，使得每個環境僅運行一個應用程序並且不與機器上的任何其他分區部分交互**。每個容器與其他容器共享機器的內核（內核是操作系統的基礎，它與計算機的硬體交互），但它運行就好像它是機器上唯一的系統。

## Containers vs. virtual machines
虛擬機是一種模仿完整計算機系統的軟體，它與託管它的機器的其餘部分隔離開來，就像它是唯一的作業系統一樣，包括擁有自己的內核。虛擬機是在一台服務器上託管多個環境的另一種常見方式，但它們**比容器使用更多的處理能力**。

## What is serverless computing ?
Serverless 應用程式分解為多個功能，由第三方供應商託管，第三方供應商僅根據每個功能運行的時間向應用程序開發人員收費。

## What are the key differences between serverless computing and containers ?
##### Physical machines
Serverless 計算實際上是在服務器上運行，但是由無應用服務器供應商來配置應用程序所需的服務器空間，沒有為給定的功能或應用程序分配特定的機器。另一方面，每個容器一次只能存放在一台機器上並使用該機器的操作系統，但如果需要，它們可以很容易地移動到不同的機器上。
##### Scalability
在基於容器的體系結構中，部署的容器數量由開發人員預先確定。相比之下，在無服務器架構中，**後端固有地自動擴展以滿足需求**。

為了繼續運輸集裝箱的比喻，一家航運公司可能會試圖預測某種產品的需求增加，並將更多的集裝箱運往目的地以滿足這一需求，但如果需求，它無法抓住手指並生產更多裝滿貨物的集裝箱，超出預期。

Serverless 架構是一種完全相同的方式。在計算能力方面，serverless 計算就像現代家庭中的供水：透過打開水龍頭，消費者可以隨時獲取和使用他們需要的水，他們只需支付他們使用的費用。這比一次嘗試購買一個桶或一個集裝箱的水更具可擴展性。

##### Cost

容器不斷運行，因此即使當時沒有人使用該應用程序，雲提供商也必須為服務器空間收費。

Serverless 架構中沒有持續的開銷，因為除非調用應用程序代碼，否則應用程序代碼不會運行。相反，開發人員只需為其應用程序實際使用的服務器容量付費。

##### Maintenance
容器託管在雲中，但**雲提供商不會更新或維護它們**。開發人員必須管理和更新他們部署的每個容器。

從開發人員的角度來看，無服務器架構沒有後端可以管理。供應商負責管理運行代碼的服務器的所有管理和軟體更新。
##### Time of deployment
**容器最初設置的時間比無服務器功能要長，因為必須配置系統設置、libraries 等**。配置完成後，容器只需幾秒鐘即可完成部署。但是因為無服務器功能比容器微服務小，並且沒有捆綁系統依賴性，所以它們只需要幾毫秒的時間來部署。上傳代碼後，無服務器應用程序即可生效。

![](https://www.cloudflare.com/img/learning/serverless/serverless-vs-containers/serverless-computing-deploy-speed-comparison.svg)

##### Testing
很難測 serverless 的 Web 應用程序，因為後端環境很難在本地環境中複製。相比之下，無論容器在何處部署，容器都運行相同，因此在將基於容器的應用程序部署到生產環境之前測試容器相對簡單。

## How are serverless computing and containers similar ?
兩者都是基於雲的，並且都大大減少了基礎架構開銷 - serverless 計算比容器更多。在這兩種體系結構中，應用程序都被分解並作為較小的組件進行部署。在基於容器的體系結構中，每個容器將運行一個微服務。

## What are microservices ?
微服務是應用程序的一部分。每個微服務執行一項服務，並且多個集成的微服務組合在一起構成應用程序。雖然這個名字似乎暗示微服務很小，但並不一定如此。

將應用程序構建為微服務集合的一個優點是，**開發人員可以一次更新一個微服務，而不是在需要進行更改時更新整個應用程序**。將應用程序構建為功能集合（如無服務器體系結構中），可以提供相同的優勢，但需要更精細的級別。

## How should developers choose between serverless architecture and containers ?
選擇無服務器架構的開發人員將能夠快速發布和迭代新應用程序，而無需擔心應用程序是否可以擴展。此外，如果應用程序看不到一致的流量或使用情況，則無服務器計算將比容器更具成本效益，因為代碼不需要經常運行。

容器使開發人員能夠更好的控制應用程序運行的環境（儘管這也帶來了更多維護）以及所使用的語言和庫。因此，容器對於將遺留應用程序遷移到雲非常有用，因為可以更緊密地複製應用程序的原始運行環境。

最後，可以使用混合架構，一些無服務器功能和部分功能部署在容器中。例如，如果應用程序功能需要的記憶體比無服務器供應商分配的記憶體多，如果功能太大或者某些功能而非其他功能需要長時間運行，則混合架構使開發人員能夠獲得無服務器的優勢。仍然使用容器無服務器無法支持的功能。