# 架構
###### tags: `Book` `sofaware`

## 什麼是架構
軟體系統的架構是建置系統者賦予系統的樣貌。樣貌是將該系統規劃分為**元件**、這些元件的**布置**方式及這些元件之間的**通訊方式**，**這樣的樣貌目的是為了使軟體系統的開發、部署、運行和維護更便利。**

**這種便利性背後對應的策略是盡可能讓盡可能多的選項是開法的。**

架構的目的就是
- 易於開發
- 易於理解
- 易於維護
- 易於部署

### 開發
一個系統應該明確定義元件或介面的單片，並將系統劃分劇也可靠又穩定的介面定義明確元件，讓每個不同團隊負責一個元件。

一個團隊一個元件的架構，不大可能像是系統部署、運行、和維護的最佳架構。但團隊會傾向於這樣的架構，但是要按照開發進度表行事。
### 部署
軟體架構的目標應該是建立一個可以透過**單一動作**就能輕鬆部署的系統。

### 運行
一個好的軟體架構傳達了系統的運行需求。
系統架構應該將系統的使用案例、系統的特性和系統的按需行為生為頭等實體。
### 維護
不斷湧現的新特性，以及不可避免地為了缺陷和修正所做的追蹤，耗費大量人力，因此維護是最昂貴的。

維護成本主要為
- 探礦
    - 試圖找出新增特性或修復缺陷的最佳位置和最佳策略而開挖現有軟體所需要付出的代價。
- 風險
    - 在做出改變同時，總會存在造成不經意的缺陷的可能性，而增加風險。

經過仔細規劃的架構，可大幅減低這些成本。透過將系統分離成元件群，並透過穩定介面隔離這些元件。

### 保持選像是開放的
軟體有兩種類型價值：
- 行為的價值
- 結構的價值
    - 此價值為最大，它使得軟體之所以是**軟性的**

盡可能保持選項的開放(**這事不關心的細節**)，是軟體保持軟性的方式。

軟體系統可分兩大元素
- policy
    - 業務規則和程序
    - 他是系統真正價值所在
    - 讓細節的決定能夠**被延遲**和**被延緩**
- details
    - 是使人們、其他系統和程式設計師能夠與**策略溝通但不影響策略行為**
        - I/O、DB
policy 和 details 兩者是**無關**的。

:::info
一名好的架構師可以將不做出決定的數量給最大化。
:::

### 總結
優秀的架構師會小心的**將細節從策略中分離出來**，使策略與細節徹底脫鉤，使策略不了解細節，不已細節為依據。優秀的架構師設計策略。以便有關細節的決定可以盡可能被延遲與延緩。
